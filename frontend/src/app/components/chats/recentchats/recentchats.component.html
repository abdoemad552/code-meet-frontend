<!-- Sidebar Header -->
<header class="border-b border-gray-300 flex flex-col items-center gap-0 justify-between items-center">
  <div class="relative w-full p-4">
    <input
      type="text"
      id="Search"
      placeholder="Search for Chats..."
      class="w-full rounded-md border-gray-300 py-2.5 pl-2.5 pe-10 border focus:outline-none"
    />

    <span class="absolute inset-y-0 end-4 grid w-10 place-content-center">
  <button type="button" class="cursor-pointer text-gray-600 hover:text-gray-700">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="size-4"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
      />
    </svg>
  </button>
</span>
  </div>

  <div class="flex overflow-x-auto overflow-y-hidden border-b border-gray-300 whitespace-nowrap w-full flex justify-center">
    <button
      (click)="showFriendsChats()"
      [ngClass]="{'border-indigo-500 text-indigo-600 hover:border-indigo-500': !isRoomChats, 'border-transparent': isRoomChats}"
      class="w-1/2 cursor-pointer items-center px-4 h-12 text-sm text-gray-700 text-center bg-transparent border-b-2 sm:text-base whitespace-nowrap focus:outline-none">
      Friends
    </button>

    <button
      (click)="showRoomsChats()"
      [ngClass]="{'border-indigo-500 text-indigo-600 hover:border-indigo-500': isRoomChats, 'border-transparent': !isRoomChats}"
      class="w-1/2 cursor-pointer items-center px-4 h-12 text-sm text-center text-gray-700 bg-transparent border-b-2 sm:text-base whitespace-nowrap cursor-base focus:outline-none hover:border-gray-400">
      Rooms
    </button>
  </div>
</header>

<!-- Contact List -->
<div class="overflow-y-auto h-[76dvh]">
  @if (!this.isRoomChats) {
    @for (chat of friendsChats; track chat) {
      <app-chatcard [isRoomChat]="false" [route]="'/chats/' + chat.id" [senderName]="chat.senderName" [profileImage]="chat.senderProfileImage" [lastMessage]="chat.lastMessage"></app-chatcard>
    }
  }

  @if (this.isRoomChats){
    @for (chat of roomsChats; track chat) {
    <app-chatcard [isRoomChat]="true" [route]="'/chats/' + chat.id" [senderName]="chat.senderName" [profileImage]="chat.senderProfileImage" [lastMessage]="chat.lastMessage"></app-chatcard>
    }
  }
</div>

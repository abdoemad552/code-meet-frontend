<div @fadeInOut class="h-full w-full flex flex-col p-10">
  <!-- Header section -->
  <div class="flex justify-between items-center pb-6 mb-6 border-b border-gray-200">
    <h3 class="text-2xl font-bold text-gray-700 flex items-center gap-3 select-none">
      <svg class="rounded-xl bg-indigo-100 size-12 text-indigo-600 font-bold p-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />
      </svg>
      Notifications
    </h3>
  </div>

  <!-- Main Content -->
  <main class="grid grid-cols-1 lg:grid-cols-15 gap-6 overflow-hidden w-full h-full">
    <!-- Filters Sidebar -->
    <div class="lg:col-span-3">
      <div class="bg-white p-4 rounded-2xl shadow border-t-4 border-l-4 border-r border-b border-gray-300 space-y-2">

        <!-- All Notifications -->
        <button
          (click)="onFilter(null)"
          [ngClass]="[
          'group flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition duration-150 cursor-pointer',
          filter === null ? 'bg-gray-100 text-gray-800 ring-2 ring-gray-400' : 'text-gray-700 hover:bg-gray-50 active:bg-gray-100 active:text-gray-800'
          ]">
          <svg
            [ngClass]="filter === null ? 'text-gray-800' : 'text-gray-600 group-hover:text-gray-800'"
            class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />          </svg>
          All Notifications
        </button>

        <!-- General -->
        <button
          (click)="onFilter('GENERAL')"
          [ngClass]="[
            'group flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition duration-150 cursor-pointer',
            filter === 'GENERAL' ? 'bg-indigo-100 text-indigo-800 ring-2 ring-indigo-400' : 'text-indigo-700 hover:bg-indigo-50 active:bg-indigo-100'
          ]">
          <svg
            [ngClass]="filter === 'GENERAL' ? 'text-indigo-800' : 'text-indigo-700 group-hover:text-indigo-800'"
            class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5" />          </svg>
          General
        </button>

        <!-- Warnings -->
        <button
          (click)="onFilter('WARNING')"
          [ngClass]="[
            'group flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition duration-150 cursor-pointer',
            filter === 'WARNING' ? 'bg-amber-100 text-amber-800 ring-2 ring-amber-400' : 'text-amber-700 hover:bg-amber-50 active:bg-amber-100'
          ]">
          <svg
            [ngClass]="filter === 'WARNING' ? 'text-amber-800' : 'text-amber-700 group-hover:text-amber-800'"
            class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75M12 15.75h.007v.008H12v-.008ZM3.2 16.1c-.9 1.5.2 3.4 2 3.4h13.6c1.8 0 2.9-1.9 2-3.4L13.9 3.4c-.9-1.5-3-1.5-3.9 0L3.2 16.1Z" />          </svg>
          Warnings
        </button>

        <!-- Errors -->
        <button
          (click)="onFilter('ERROR')"
          [ngClass]="[
            'group flex items-center gap-2 w-full text-left px-3 py-2 rounded-lg transition duration-150 cursor-pointer',
            filter === 'ERROR' ? 'bg-red-100 text-red-800 ring-2 ring-red-400' : 'text-red-700 hover:bg-red-50 active:bg-red-100'
          ]">
          <svg
            [ngClass]="filter === 'ERROR' ? 'text-red-800' : 'text-red-700 group-hover:text-red-800'"
            class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75M12 15.75h.008v.008H12v-.008ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />          </svg>
          Errors
        </button>

      </div>
    </div>


    <!-- Notifications List -->
    <div class="lg:col-span-12 scrollbar-overlay h-full w-full">
      <div class="relative border scrollbar-overlay rounded-lg h-full w-full border-gray-200 px-6 py-6 space-y-6">
        <ng-container
          *ngFor="let notification of filteredNotifications">
          <div
            class="relative bg-white p-4 rounded-lg shadow-sm border-l-4 hover:shadow-md transition-shadow"
            [ngClass]="{'border-amber-400': notification.type === 'WARNING', 'border-red-400': notification.type === 'ERROR', 'border-indigo-400': notification.type !== 'WARNING' && notification.type !== 'ERROR'}">
            <div class="flex items-center justify-between space-x-4 flex-1 min-w-0">
              @if (notification.type === "WARNING") {
                <div class="flex items-center gap-4 w-full">
                  <div class="bg-amber-100 p-2 rounded-full flex-shrink-0">
                    <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75M12 15.75h.007v.008H12v-.008ZM3.2 16.1c-.9 1.5.2 3.4 2 3.4h13.6c1.8 0 2.9-1.9 2-3.4L13.9 3.4c-.9-1.5-3-1.5-3.9 0L3.2 16.1Z" />
                    </svg>
                  </div>
                  <div class="flex flex-col w-full">
                    <p class="text-sm text-gray-600 mt-1 break-words" [innerHTML]="notification.text"></p>
                    <div class="mt-2 gap-3 w-full flex items-center justify-end select-none">
                      <span class="px-2 py-1 font-semibold text-amber-600 bg-amber-100 text-xs rounded-lg">WARNING</span>
                      <span class="text-sm text-gray-500">{{ notification.sentAt }}</span>
                    </div>
                  </div>
                </div>
              } @else if (notification.type === "ERROR") {
                <div class="flex items-center gap-4 w-full">
                  <div class="bg-red-100 p-2 rounded-full flex-shrink-0">
                    <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75M12 15.75h.008v.008H12v-.008ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                  </div>
                  <div class="flex flex-col w-full">
                    <p class="text-sm text-gray-600 mt-1 break-words" [innerHTML]="notification.text"></p>
                    <div class="mt-2 gap-3 w-full flex items-center justify-end select-none">
                      <span class="px-2 py-1 font-semibold text-red-600 bg-red-100 text-xs rounded-lg">ERROR</span>
                      <span class="text-sm text-gray-500 select-none">{{ notification.sentAt }}</span>
                    </div>
                  </div>
                </div>
              } @else {
                <div class="flex items-center gap-4 w-full">
                  <div class="bg-indigo-100 p-2 rounded-full flex-shrink-0">
                    <svg class="w-5 h-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5" />
                    </svg>
                  </div>
                  <div class="flex flex-col w-full">
                    <p class="text-sm text-gray-600 mt-1 break-words" [innerHTML]="notification.text"></p>
                    <div class="mt-2 gap-3 w-full flex items-center justify-end select-none">
                      <span class="px-2 py-1 font-semibold text-indigo-600 bg-indigo-100 text-xs rounded-lg">{{ notification.header }}</span>
                      <span class="text-sm text-gray-500 select-none">{{ notification.sentAt }}</span>
                    </div>
                  </div>
                </div>
              }
              <button
                (click)="deleteNotification(notification)"
                class="p-2 rounded-full text-gray-500 hover:text-red-600 hover:bg-gray-100 active:bg-gray-200 active:text-red-600 transition duration-200 cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21 c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                </svg>
              </button>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </main>
</div>

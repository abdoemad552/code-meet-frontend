<header class="bg-white relative border-b border-gray-300 w-full top-0 z-10">
  <div class="px-4 py-4 mx-auto flex justify-between items-center">
    <!-- Logo Section -->
    <div class="flex items-center justify-center">
      <div class="flex items-center">
        <!-- Svg Part -->
        <div class="px-3 py-3 rounded-full bg-indigo-800">
          <svg viewBox="0 0 1022 1261" width="35" height="35" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden"><defs><filter id="fx0" x="-10%" y="-10%" width="120%" height="120%" filterUnits="userSpaceOnUse" primitiveUnits="userSpaceOnUse"><feComponentTransfer color-interpolation-filters="sRGB"><feFuncR type="discrete" tableValues="0 0"/><feFuncG type="discrete" tableValues="0 0"/><feFuncB type="discrete" tableValues="0 0"/><feFuncA type="linear" slope="0.4" intercept="0"/></feComponentTransfer><feGaussianBlur stdDeviation="7.63889 7.63889"/></filter><clipPath id="clip1"><rect x="1689" y="607" width="1022" height="1261"/></clipPath></defs><g clip-path="url(#clip1)" transform="translate(-1689 -607)"><path d="M1877.06 764C1932.09 764 1976.69 810.648 1976.69 868.19 1976.69 896.962 1965.54 923.009 1947.51 941.865L1933 952.093 1950.26 970.178C1984.01 1018.37 2012.72 1098.87 2033 1200.2L2040.17 1242.32 2359.83 1242.32 2367 1200.2C2387.28 1098.87 2415.99 1018.37 2449.74 970.178L2467 952.093 2452.49 941.865C2434.46 923.009 2423.31 896.962 2423.31 868.19 2423.31 810.648 2467.91 764 2522.94 764 2577.97 764 2622.58 810.648 2622.58 868.19 2622.58 896.962 2611.42 923.009 2593.39 941.865L2578.89 952.093 2596.14 970.178C2663.64 1066.56 2711 1292.19 2711 1555.16 2711 1727.94 2571.11 1868 2398.54 1868L2001.46 1868C1828.89 1868 1689 1727.94 1689 1555.16 1689 1292.19 1736.36 1066.56 1803.86 970.178L1821.11 952.093 1806.61 941.865C1788.58 923.009 1777.43 896.962 1777.43 868.19 1777.43 810.648 1822.03 764 1877.06 764Z" fill="#8D86EE" fill-rule="evenodd"/><path d="M2196.5 607C2262.48 607 2315.97 662.895 2315.97 731.845 2315.97 766.32 2302.6 797.531 2280.98 820.124L2263.58 832.38 2284.27 854.05C2365.21 969.535 2422 1239.89 2422 1555L1971 1555C1971 1239.89 2027.79 969.535 2108.73 854.05L2129.42 832.38 2112.02 820.124C2090.4 797.531 2077.03 766.32 2077.03 731.845 2077.03 662.895 2130.52 607 2196.5 607Z" fill="#EEF3FF" fill-rule="evenodd"/><g filter="url(#fx0)" transform="translate(1740 1268)"><g><path d="M24.4601 287C24.4601 141.661 142.281 23.84 287.62 23.84L632.38 23.84C777.719 23.84 895.54 141.661 895.54 287L895.54 287C895.54 432.339 777.719 550.16 632.38 550.16L287.62 550.16C142.281 550.16 24.4601 432.339 24.4601 287Z" fill="#302C81" fill-rule="evenodd"/></g></g><path d="M1773 1555C1773 1412.51 1888.51 1297 2031 1297L2369 1297C2511.49 1297 2627 1412.51 2627 1555L2627 1555C2627 1697.49 2511.49 1813 2369 1813L2031 1813C1888.51 1813 1773 1697.49 1773 1555Z" fill="#302C81" fill-rule="evenodd"/><path d="M2228.04 1442.37C2232.73 1432.3 2244.7 1427.94 2254.77 1432.64L2476.2 1535.89C2486.27 1540.59 2490.63 1552.56 2485.93 1562.63L2485.93 1562.63C2481.24 1572.7 2469.27 1577.05 2459.2 1572.36L2237.77 1469.1C2227.7 1464.41 2223.34 1452.44 2228.04 1442.37Z" fill="#EEF3FF" fill-rule="evenodd"/><path d="M2305.05 1632.92C2300.35 1622.85 2304.71 1610.88 2314.78 1606.19L2459.2 1538.84C2469.27 1534.15 2481.24 1538.5 2485.93 1548.57L2485.93 1548.57C2490.63 1558.64 2486.27 1570.61 2476.2 1575.31L2331.78 1642.65C2321.71 1647.35 2309.74 1642.99 2305.05 1632.92Z" fill="#EEF3FF" fill-rule="evenodd"/><path d="M2170.28 1650.91C2165.58 1660.98 2153.61 1665.34 2143.54 1660.64L1923.71 1558.13C1913.65 1553.44 1909.29 1541.47 1913.98 1531.4L1913.98 1531.4C1918.68 1521.33 1930.65 1516.97 1940.72 1521.67L2160.55 1624.18C2170.61 1628.87 2174.97 1640.84 2170.28 1650.91Z" fill="#EEF3FF" fill-rule="evenodd"/><path d="M2094.87 1459.92C2099.57 1469.99 2095.21 1481.95 2085.14 1486.65L1940.72 1554C1930.65 1558.69 1918.68 1554.33 1913.98 1544.27L1913.98 1544.27C1909.29 1534.2 1913.65 1522.23 1923.72 1517.53L2068.14 1450.19C2078.21 1445.49 2090.18 1449.85 2094.87 1459.92Z" fill="#EEF3FF" fill-rule="evenodd"/><path d="M2266.42 1372.33C2277.33 1376.3 2282.96 1388.36 2278.99 1399.27L2160.43 1724.99C2156.46 1735.9 2144.4 1741.52 2133.49 1737.55L2133.49 1737.55C2122.59 1733.58 2116.96 1721.52 2120.93 1710.61L2239.49 1384.89C2243.46 1373.99 2255.52 1368.36 2266.42 1372.33Z" fill="#EEF3FF" fill-rule="evenodd"/></g></svg>
        </div>
        <!-- Text Part -->
        <div class="flex flex-col pl-3 leading-tight select-none">
          <span class="text-2xl font-bold bg-gradient-to-r from-indigo-800 to-indigo-600 bg-clip-text text-transparent">Code<span class="font-extrabold">Meet</span></span>
          <span class="text-xs font-medium text-indigo-500 tracking-wider uppercase mt-0.5">Connect & Collaborate</span>
        </div>
      </div>
    </div>

    <div #overlay class="hidden before:fixed before:inset-0 before:w-full before:h-full before:bg-[rgba(0,0,0,0.0)] z-99" (click)="closeDropdown()"></div>

    <!-- Profile Image and Notifications Section -->
    <div class="flex gap-8">

      <!-- Notification Section -->
      <div class="z-100">
        <button
          (click)="toggleNotificationsDropdown()"
          class="p-2 cursor-pointer text-gray-600 hover:text-indigo-600 focus:outline-none focus:text-indigo-600 transition-colors relative"
          aria-haspopup="true"
          aria-expanded="false">
          <!-- Bell Icon -->
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
          </svg>
          <!-- Notification Badge -->
          <span class="absolute top-1 right-1 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-600 rounded-full transform translate-x-1/2 -translate-y-1/2">+9</span>
        </button>

        <!-- Dropdown Container -->
        <div [ngClass]="{'hidden': !isNotificationsDropdownOpen}" class="absolute top-[12dvh] right-16 w-80 bg-white shadow-md border-r border-l border-b border-gray-300 transition-all duration-300 origin-top-right">
          <div class="divide-y divide-gray-100">
            <!-- Header -->
            <div class="flex items-center justify-between p-4">
              <h3 class="text-lg font-semibold text-gray-900">Notifications</h3>
              <button class="cursor-pointer text-indigo-600 text-sm hover:bg-indigo-50 px-2 py-1 rounded-lg">
                Mark all as read
              </button>
            </div>

            <!-- Notification List -->
            <div class="max-h-96 overflow-y-auto">
              <!-- Notification Item -->
              <a href="#" class="flex items-start p-4 hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div class="relative flex-shrink-0">
                  <div class="h-10 w-10 bg-indigo-100 rounded-full flex items-center justify-center">
                    <svg class="h-5 w-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                  </div>
                  <span class="absolute top-0 right-0 block h-2.5 w-2.5 bg-indigo-500 rounded-full ring-2 ring-white"></span>
                </div>
                <div class="ml-3 flex-1">
                  <div class="flex items-center justify-between">
                    <p class="text-sm font-medium text-gray-900">New Message</p>
                    <time class="text-xs text-gray-500">5m ago</time>
                  </div>
                  <p class="text-sm text-gray-500 mt-1">John Doe sent you a message</p>
                </div>
              </a>

              <!-- More Notifications -->
              <a href="#" class="flex items-start p-4 hover:bg-gray-50 transition-colors border-b border-gray-100">
                <div class="relative flex-shrink-0">
                  <div class="h-10 w-10 bg-green-100 rounded-full flex items-center justify-center">
                    <svg class="h-5 w-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </div>
                </div>
                <div class="ml-3 flex-1">
                  <div class="flex items-center justify-between">
                    <p class="text-sm font-medium text-gray-900">Order Shipped</p>
                    <time class="text-xs text-gray-500">2h ago</time>
                  </div>
                  <p class="text-sm text-gray-500 mt-1">Your order #1234 has been shipped</p>
                </div>
              </a>

              <!-- Add 2 more notification items here -->
            </div>

            <!-- Footer -->
            <div class="p-2">
              <a routerLink="/notifications" (click)="toggleNotificationsDropdown()" class="cursor-pointer w-full block text-center px-4 py-2 text-sm font-medium text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors">
                View All Notifications
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="z-100">
        <button
          (click)="toggleProfileDropdown()"
          class="flex items-center space-x-1 focus:outline-none cursor-pointer">
          <!-- Profile Image -->
          <img
            [src]="this.userInfo.profilePicture || 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png'"
            alt="Profile"
            class="h-9 w-9 rounded-full object-cover border-2 border-gray-200"
          />
          <!-- Arrow Icon -->
          <svg
            [ngClass]="{ 'rotate-180': isProfileDropdownOpen }"
            class="w-4 h-4 text-gray-600 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>

        <!-- Dropdown Menu -->
        <div
          [ngClass]="{ hidden: !isProfileDropdownOpen }"
          class="absolute right-8 top-0 translate-y-[12dvh] w-48 bg-white shadow-lg border-r border-l border-b border-gray-300 z-100">
          <!-- Dropdown Triangle -->
          <div class="absolute -top-2 right-3 w-4 h-4 bg-white transform rotate-45 border-t border-l border-gray-300"></div>
          <a href="#" class="block p-4 text-md text-gray-700 hover:bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 text-gray-600 inline-block mr-1">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"/>
            </svg>
            Settings
          </a>
          <div class="border-t border-gray-100"></div>
          <a (click)="this.logout()" class="block p-4 cursor-pointer text-md text-red-600 hover:bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 text-red-600 inline-block mr-1">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"/>
            </svg>
            Sign Out
          </a>
        </div>
      </div>
    </div>
  </div>
</header>
